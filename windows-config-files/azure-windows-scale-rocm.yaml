controllerServiceAccount:
  name: arc-gha-rs-controller
  namespace: arc-systems
githubConfigSecret: rocm-secret
githubConfigUrl: https://github.com/ROCm
template:
  spec:
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: kubernetes.io/os
              operator: In
              values:
              - windows
    containers:
    - command:
      - cmd.exe
      - /c
      - \home\runner\run.cmd
      env:
      - name: AWS_ACCESS_KEY_ID
        valueFrom:
          secretKeyRef:
            key: AWS_ACCESS_KEY_ID
            name: aws-creds
      - name: AWS_SECRET_ACCESS_KEY
        valueFrom:
          secretKeyRef:
            key: AWS_SECRET_ACCESS_KEY
            name: aws-creds
      image: ghcr.io/eliasj42/arc-windows-runner:latest
      name: runner
      resources:
        requests:
          cpu: 40000m
          memory: 50000Mi
      volumeMounts:
      - mountPath: 'b:'
        name: tmpbuild-dir
      - mountPath: 's:'
        name: src-ccache-dir
      - mountPath: /home/runner/_work
        name: src-ccache-dir
    tolerations:
    - effect: NoSchedule
      key: kubernetes.io/os
      operator: Equal
      value: windows
    - effect: NoSchedule
      key: kubernetes.azure.com/scalesetpriority
      operator: Equal
      value: spot
    volumes:
    - emptyDir: {}
      name: tmpbuild-dir
    - emptyDir: {}
      name: src-ccache-dir
