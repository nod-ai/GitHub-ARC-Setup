controllerServiceAccount:
  name: arc-gha-rs-controller
  namespace: arc-systems
githubConfigSecret: rocm-secret
githubConfigUrl: https://github.com/ROCm
template:
  spec:
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: kubernetes.io/os
              operator: In
              values:
              - windows
    containers:
    - command:
      - cmd.exe
      - /c
      - \home\runner\run.cmd
      image: ghcr.io/eliasj42/arc-windows-runner:latest
      name: runner
      env:
        - name: AWS_ACCESS_KEY_ID
          valueFrom:
            secretKeyRef:
              name: aws-creds
              key: AWS_ACCESS_KEY_ID
        - name: AWS_SECRET_ACCESS_KEY
          valueFrom:
            secretKeyRef:
              name: aws-creds
              key: AWS_SECRET_ACCESS_KEY
      resources:
        requests:
          cpu: 40000m
          memory: 50000Mi
      volumeMounts:
      - name: tmpbuild-dir
        mountPath: "b:"
      - name: src-ccache-dir
        mountPath: "s:"
      - name: src-ccache-dir
        mountPath: /home/runner/_work
    tolerations:
    - effect: NoSchedule
      key: kubernetes.io/os
      operator: Equal
      value: windows
    - effect: NoSchedule
      key: kubernetes.azure.com/scalesetpriority
      operator: Equal
      value: spot
    volumes:
    - name: tmpbuild-dir
      emptyDir: {}
    - name: src-ccache-dir
      emptyDir: {}
